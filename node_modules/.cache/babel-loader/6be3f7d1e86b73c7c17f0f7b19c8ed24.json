{"ast":null,"code":"import _objectSpread from\"/home/jack/Documents/HobbyStuff/ShopifyWebDevApplication/ShopifyWebDevApplicationProject/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/jack/Documents/HobbyStuff/ShopifyWebDevApplication/ShopifyWebDevApplicationProject/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import\"./App.css\";import\"bootstrap/dist/css/bootstrap.css\";import{Row,Col,Card,Container,Alert}from\"react-bootstrap\";import SearchBar from\"./Components/SearchBar\";import SearchResults from\"./Components/SearchResults\";import NominationsList from\"./Components/NominationsList\";import key from\"./apikey.json\";//needs to be generated by distributor at omdbapi.com\nimport OMDB from\"./Func/OMDB\";// state should be saved here\nfunction App(){var database=new OMDB(key.key);var _useState=useState({movieSearch:\"Movie Title\",movieSearchResults:[{Title:\"Shrek\",Year:\"2001\",imdbID:\"tt0126029\",Type:\"movie\",Poster:\"https://m.media-amazon.com/images/M/MV5BOGZhM2FhNTItODAzNi00YjA0LWEyN2UtNjJlYWQzYzU1MDg5L2ltYWdlL2ltYWdlXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_SX300.jpg\"}],movieNominees:[],movieNotFoundError:false}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];//receives search results as list of movie objects\nfunction onSearchSubmitted(movieSearch){var searchPromise=database.search(movieSearch);searchPromise.then(function(searchObject){var errorResult={Search:[{Title:\"Movie Not Found\",Year:\"0\",imdbID:\"tt0126029\",Type:\"movie\"}]};var data=new Promise(function(resolve,reject){setTimeout(function(){var didSucceed=true;// adjust for testing\ndidSucceed?resolve(errorResult):reject(\"Error\");},1);});if(searchObject.status===200){data=searchObject.json();}data.then(function(actualStuff){var newState=_objectSpread({},state);if(actualStuff.Response===\"True\"){newState.movieSearchResults=actualStuff.Search;newState.movieNotFoundError=false;setState(newState);}else{//console.log(actualStuff.Response);\nnewState.movieNotFound=true;setState(newState);}});});return searchPromise;}// Add and remove from nominationslist\nfunction addToNominationsList(movieObject){var nState=_objectSpread({},state);nState.movieNominees.push(movieObject);setState(nState);}function removeFromNominationsList(index){var nState=_objectSpread({},state);if(index>-1){nState.movieNominees.splice(index,1);}setState(nState);}// Movie Search is what's in the textbox, MovieSearchResults is a list of movie objects that are the results,\n//Movie nominees are the nominees\nreturn/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"h2\",{className:\"title\"},\" The Shopify Movers App\")),/*#__PURE__*/React.createElement(\"div\",{className:\"Content\"},/*#__PURE__*/React.createElement(Alert,{variant:\"success\",show:state.movieNominees.length>=5},\" \",\"You've reached 5 nominations! Good Job!\"),/*#__PURE__*/React.createElement(Row,{className:\"pageRow\"},/*#__PURE__*/React.createElement(Col,{align:\"center\"},/*#__PURE__*/React.createElement(Card,{className:\"searchCard\"},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Card.Title,null,\"Movie Title\"),/*#__PURE__*/React.createElement(SearchBar,{onSearchSubmitted:onSearchSubmitted}))))),/*#__PURE__*/React.createElement(Row,{className:\"pageRow\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Card,{className:\"infoCard\"},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Card.Title,null,\"Results\"),/*#__PURE__*/React.createElement(SearchResults,{results:state.movieSearchResults,movieError:state.movieNotFoundError,addToNominationsList:addToNominationsList,movieNominees:state.movieNominees})))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Card,{className:\"infoCard\"},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Card.Title,null,\"Nominations\"),/*#__PURE__*/React.createElement(NominationsList,{nominations:state.movieNominees,addToNominationsList:addToNominationsList,removeFromNominationsList:removeFromNominationsList}))))))));}//onSearchReceived might be anti-pattern for react\nexport default App;","map":{"version":3,"sources":["/home/jack/Documents/HobbyStuff/ShopifyWebDevApplication/ShopifyWebDevApplicationProject/src/App.js"],"names":["React","useState","Row","Col","Card","Container","Alert","SearchBar","SearchResults","NominationsList","key","OMDB","App","database","movieSearch","movieSearchResults","Title","Year","imdbID","Type","Poster","movieNominees","movieNotFoundError","state","setState","onSearchSubmitted","searchPromise","search","then","searchObject","errorResult","Search","data","Promise","resolve","reject","setTimeout","didSucceed","status","json","actualStuff","newState","Response","movieNotFound","addToNominationsList","movieObject","nState","push","removeFromNominationsList","index","splice","length"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { Row, Col, Card, Container, Alert } from \"react-bootstrap\";\nimport SearchBar from \"./Components/SearchBar\";\nimport SearchResults from \"./Components/SearchResults\";\nimport NominationsList from \"./Components/NominationsList\";\nimport key from \"./apikey.json\"; //needs to be generated by distributor at omdbapi.com\nimport OMDB from \"./Func/OMDB\";\n\n// state should be saved here\n\nfunction App() {\n  const database = new OMDB(key.key);\n  const [state, setState] = useState({\n    movieSearch: \"Movie Title\",\n    movieSearchResults: [\n      {\n        Title: \"Shrek\",\n        Year: \"2001\",\n        imdbID: \"tt0126029\",\n        Type: \"movie\",\n        Poster:\n          \"https://m.media-amazon.com/images/M/MV5BOGZhM2FhNTItODAzNi00YjA0LWEyN2UtNjJlYWQzYzU1MDg5L2ltYWdlL2ltYWdlXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_SX300.jpg\",\n      },\n    ],\n    movieNominees: [],\n    movieNotFoundError: false,\n  });\n  //receives search results as list of movie objects\n  function onSearchSubmitted(movieSearch) {\n    const searchPromise = database.search(movieSearch);\n\n    searchPromise.then((searchObject) => {\n      let errorResult = {\n        Search: [\n          {\n            Title: \"Movie Not Found\",\n            Year: \"0\",\n            imdbID: \"tt0126029\",\n            Type: \"movie\",\n          },\n        ],\n      };\n\n      let data = new Promise((resolve, reject) => {\n        setTimeout(() => {\n          let didSucceed = true; // adjust for testing\n          didSucceed ? resolve(errorResult) : reject(\"Error\");\n        }, 1);\n      });\n\n      if (searchObject.status === 200) {\n        data = searchObject.json();\n      }\n\n      data.then((actualStuff) => {\n        let newState = { ...state };\n\n        if (actualStuff.Response === \"True\") {\n          newState.movieSearchResults = actualStuff.Search;\n          newState.movieNotFoundError = false;\n          setState(newState);\n        } else {\n          //console.log(actualStuff.Response);\n          newState.movieNotFound = true;\n          setState(newState);\n        }\n      });\n    });\n\n    return searchPromise;\n  }\n  // Add and remove from nominationslist\n  function addToNominationsList(movieObject) {\n    let nState = { ...state };\n    nState.movieNominees.push(movieObject);\n    setState(nState);\n  }\n\n  function removeFromNominationsList(index) {\n    let nState = { ...state };\n\n    if (index > -1) {\n      nState.movieNominees.splice(index, 1);\n    }\n\n    setState(nState);\n  }\n\n  // Movie Search is what's in the textbox, MovieSearchResults is a list of movie objects that are the results,\n  //Movie nominees are the nominees\n  return (\n    <div className=\"App\">\n      <Container>\n        <Row>\n          <h2 className=\"title\"> The Shopify Movers App</h2>\n        </Row>\n        <div className=\"Content\">\n          <Alert variant={\"success\"} show={state.movieNominees.length >= 5}>\n            {\" \"}\n            You've reached 5 nominations! Good Job!\n          </Alert>\n          <Row className=\"pageRow\">\n            <Col align={\"center\"}>\n              <Card className=\"searchCard\">\n                <Card.Body>\n                  <Card.Title>Movie Title</Card.Title>\n                  <SearchBar onSearchSubmitted={onSearchSubmitted} />\n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n          <Row className=\"pageRow\">\n            <Col>\n              <Card className=\"infoCard\">\n                <Card.Body>\n                  <Card.Title>Results</Card.Title>\n                  <SearchResults\n                    results={state.movieSearchResults}\n                    movieError={state.movieNotFoundError}\n                    addToNominationsList={addToNominationsList}\n                    movieNominees={state.movieNominees}\n                  />\n                </Card.Body>\n              </Card>\n            </Col>\n            <Col>\n              <Card className=\"infoCard\">\n                <Card.Body>\n                  <Card.Title>Nominations</Card.Title>\n                  <NominationsList\n                    nominations={state.movieNominees}\n                    addToNominationsList={addToNominationsList}\n                    removeFromNominationsList={removeFromNominationsList}\n                  />\n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n        </div>\n      </Container>\n    </div>\n  );\n} //onSearchReceived might be anti-pattern for react\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}